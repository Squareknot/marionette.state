{"version":3,"file":"marionette.state.min.js","sources":["marionette.state.js"],"names":["root","factory","define","amd","Backbone","Marionette","_","exports","require","module","this","Bb","Mn","State","Object","extend","modelClass","undefined","defaultState","componentEvents","_model","_component","_initialState","constructor","options","component","setComponent","Model","resetState","initialState","__super__","apply","arguments","attrs","reset","getModel","getInitialState","clone","resetAttrs","set","Error","get","eventedObj","stopListening","unbindEntityEvents","listenToOnce","destroy","bindEntityEvents","getComponent","syncEntityEvents","entity","entityEvents","Behavior","initialize","stateClass","StateClass","syncEvent","stateOptions","view","_mapOptions","mapOptions","state","stateModel","stateEvents","serialize","_wrapSerializeData","mappings","object","map","_mapOption","viewOptionKey","stateOptionKey","stateOptionValue","isString","reduce","split","memo","key","isFunction","call","serializeData","data","stateAttrs","attributes","isUndefined","isObject","_mergeAttrs","target","attr","callHandlers","handlers","value","handlerKeys","spaceMatcher","each","handlerKey","syncBinding","event","changeMatch","Collection","match","changeMatcher","syncBindings","events","syncBindingsHash","bindings","eventStr","Syncing","prototype","when","eventObj","partial","__syncingEntityEvents","push","listenTo","now","syncing","stopSyncingEntityEvents","handler"],"mappings":"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"}