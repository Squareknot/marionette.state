{"version":3,"file":"marionette.state.min.js","sources":["marionette.state.js"],"names":["root","factory","define","amd","Backbone","Marionette","_","exports","require","module","this","Bb","Mn","State","Object","extend","modelClass","undefined","defaultState","componentEvents","_model","_component","_initialState","constructor","options","component","setComponent","Model","setState","initialState","__super__","apply","arguments","attrs","reset","getModel","getInitialState","clone","unset","set","Error","get","eventedObj","stopListening","unbindEntityEvents","listenToOnce","destroy","bindEntityEvents","getComponent","syncEntityEvents","entity","entityEvents","Behavior","initialize","stateClass","StateClass","syncEvent","stateOptions","view","_mapOptions","mapOptions","state","stateEvents","serialize","_wrapSerializeData","mappings","object","map","_mapOption","viewOptionKey","stateOptionKey","stateOptionValue","isString","reduce","split","memo","key","isFunction","call","serializeData","data","stateAttrs","attributes","isUndefined","isObject","_mergeAttrs","target","attr","callHandlers","handlers","value","handlerKeys","spaceMatcher","each","handlerKey","syncBinding","event","changeMatch","Collection","match","changeMatcher","syncBindings","events","syncBindingsHash","bindings","eventStr","handler","partial","syncing","__syncingEntityEvents","push","on","stopSyncingEntityEvents","render","off"],"mappings":"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"}